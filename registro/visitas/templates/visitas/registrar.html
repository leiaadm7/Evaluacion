{% extends 'visitas/base.html' %}

{% block title %}
  Registrar Visita
{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto mt-8 p-6 bg-white rounded-xl shadow-md">
  <h1 class="text-2xl font-bold mb-6 text-blue-600">Registrar Nueva Visita</h1>
  
  <form method="post" class="space-y-4">
    {% csrf_token %}
    
    <div>
      <label for="id_nombre" class="block mb-1 font-semibold">Nombre:</label>
      <input type="text" name="nombre" id="id_nombre"
             class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-pink-600 focus:ring-2 focus:ring-pink-200"
             value="{{ form.nombre.value|default_if_none:'' }}">
      {% if form.nombre.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.nombre.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label for="id_apellido" class="block mb-1 font-semibold">Apellido:</label>
      <input type="text" name="apellido" id="id_apellido"
             class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-pink-600 focus:ring-2 focus:ring-pink-200"
             value="{{ form.apellido.value|default_if_none:'' }}">
      {% if form.apellido.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.apellido.errors.0 }}</p>
      {% endif %}
    </div>
    
    <div>
      <label for="id_rut" class="block mb-1 font-semibold">RUT:</label>
      <input type="text" name="rut" id="id_rut"
             class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-pink-600 focus:ring-2 focus:ring-pink-200 placeholder-gray-400"
             placeholder="12345678-9"
             value="{{ form.rut.value|default_if_none:'' }}">
      {% if form.rut.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.rut.errors.0 }}</p>
      {% endif %}
    </div>
    
    <div>
      <label for="id_motivo" class="block mb-1 font-semibold">Motivo:</label>
      <textarea name="motivo" id="id_motivo"
                class="w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-pink-600 focus:ring-2 focus:ring-pink-200 placeholder-gray-400"
                placeholder="Ej: ReuniÃ³n con el equipo de ventas">{{ form.motivo.value|default_if_none:'' }}</textarea>
      {% if form.motivo.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.motivo.errors.0 }}</p>
      {% endif %}
    </div>
    
    <button type="submit" 
            class="w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition">
      Guardar
    </button>
  </form>

  <div class="mt-6 flex justify-between text-sm">
    <a href="{% url 'visitas:listar_visitas' %}" class="text-green-600 hover:underline">Ver visitas</a>
    <a href="{% url 'visitas:inicio' %}" class="text-gray-600 hover:underline">Volver al inicio</a>
  </div>
</div>
{% endblock %}
