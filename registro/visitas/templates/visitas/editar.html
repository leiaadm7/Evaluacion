{% extends 'visitas/base.html' %}

{% block title %}
  Editar Visita
{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto mt-12 p-8 bg-white rounded-2xl shadow-lg border border-pink-200">
  <h1 class="text-3xl font-bold mb-6 text-center text-black">Editar Visita de {{ visita.nombre }} {{ visita.apellido }}</h1>
  
  <form method="post" class="space-y-4">
    {% csrf_token %}
    
    <div>
      <label for="id_nombre" class="block mb-1 font-semibold">Nombre:</label>
      <input type="text" name="nombre" id="id_nombre"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-pink-500 focus:ring-2 focus:ring-pink-200"
              value="{{ form.nombre.value|default_if_none:'' }}">
      {% if form.nombre.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.nombre.errors.0 }}</p>
      {% endif %}
    </div>

    <div>
      <label for="id_rut" class="block mb-1 font-semibold">RUT:</label>
      <input type="text" name="rut" id="id_rut"
             class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-pink-500 focus:ring-2 focus:ring-pink-200"
             placeholder="12345678-9"
             value="{{ form.rut.value|default_if_none:'' }}">
      {% if form.rut.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.rut.errors.0 }}</p>
      {% endif %}
    </div>
    
    <div>
      <label for="id_motivo" class="block mb-1 font-semibold">Motivo:</label>
      <textarea name="motivo" id="id_motivo"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-pink-500 focus:ring-2 focus:ring-pink-200"
                placeholder="Ej: ReuniÃ³n con el equipo de ventas">{{ form.motivo.value|default_if_none:'' }}</textarea>
      {% if form.motivo.errors %}
        <p class="text-red-500 text-sm mt-1">{{ form.motivo.errors.0 }}</p>
      {% endif %}
    </div>
    
    <button type="submit" 
            class="w-full px-4 py-3 bg-pink-500 text-white font-semibold rounded-lg shadow-md hover:bg-pink-600 transition">
      Guardar Cambios
    </button>
  </form>

  <div class="mt-8 flex justify-between text-sm text-pink-600">
    <a href="{% url 'visitas:listar_visitas' %}" class="hover:underline flex items-center gap-1">
      <i class="bi bi-list-ul"></i> Ver visitas
    </a>
    <a href="{% url 'visitas:inicio' %}" class="hover:underline flex items-center gap-1">
      <i class="bi bi-house-door"></i> Inicio
    </a>
  </div>
</div>
{% endblock %}
